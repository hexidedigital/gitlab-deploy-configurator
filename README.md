# GitLab deployment automation

–ù–∞–±—Ä–∏–¥–ª–æ –≤–∏—Ç—Ä–∞—á–∞—Ç–∏ —á–∞—Å, —Ä–æ–±–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏ —Ç–∞ –ø–æ—Å—Ç—ñ–π–Ω–æ –ø–æ–≤—Ç–æ—Ä—é–≤–∞—Ç–∏ —Ç—ñ —Å–∞–º—ñ –¥—ñ—ó –∑ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—Éüòí?
–ê–≤—Ç–æ–º–∞—Ç–∏–∑—É–π—Ç–µ —Ü–µ–π –Ω—É–¥–Ω–∏–π –ø—Ä–æ—Ü–µ—Å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø—Ä–æ–µ–∫—Ç—É —Ç–∞ –∑–∞–ª–∏—à—Ç–µ —Å–æ–±—ñ –±—ñ–ª—å—à–µ —á–∞—Å—É –Ω–∞ –∫–∞–≤—É‚òïÔ∏è.
–î–æ–≤—ñ—Ä—Ç–µ —Ü–µ –≤—Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—Ü—ñ —Ç–∞ –Ω–∞—Å–æ–ª–æ–¥—ñ—Ç—å—Å—è –ø—Ä–æ—Ü–µ—Å–æ–º üòâ

# –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

–°–µ—Ä–≤—ñ—Å —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó –ø—Ä–æ—Ü–µ—Å—É —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ GitLab CI/CD.

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

> –ü–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —É –≤–∞—Å —É–∂–µ –º–∞—î –±—É—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π —Ç–∞ –≤—ñ–Ω –º–∞—î –º–∞—Ç–∏ –ø–æ—á–∞—Ç–∫–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç—É

–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è —ñ–∑ 6 –∫—Ä–æ–∫—ñ–≤. –ü—ñ—Å–ª—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é.

![step-wizard.png](assets/step-wizard.png)

### –ö—Ä–æ–∫ 1: GitLab

–ù–∞ —Ü—å–æ–º—É –∫—Ä–æ—Ü—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–∞–∑–∞—Ç–∏ –∞–∫—Ç–∏–≤–Ω–∏–π —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –¥–ª—è GitLab API.
–Ø–∫—â–æ —Ç–æ–∫–µ–Ω –±—É–¥–µ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∏–º, —Ç–æ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –Ω–µ –≤–¥–∞—Å—Ç—å—Å—è.

### –ö—Ä–æ–∫ 2: Project

–ù–∞ —Ü—å–æ–º—É –∫—Ä–æ—Ü—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ–±—Ä–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç —É —è–∫–æ–º—É –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è.
–í –ø–æ–ª–µ –≤–∏–±–æ—Ä—É –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –∫—ñ–ª—å–∫–∞ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤, –ø—Ä–æ—Ç–µ –≤–∏ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –ø–æ—à—É–∫ —Å–µ—Ä–µ–¥ –≤—Å—ñ—Ö –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤.

–ü—ñ—Å–ª—è –≤–∏–±–æ—Ä—É –≤–∏–≤–µ–¥–µ—Ç—å—Å—è –∑–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—Ä–æ–µ–∫—Ç —Ç–∞ –¥–µ—Ç–∞–ª—ñ –ø—Ä–æ –∫–æ–¥.

**–í–∞–∂–ª–∏–≤–æ** - –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫, –ø—Ä–æ–µ–∫—Ç –º–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –≤–∏–º–æ–≥–∞–º:

- –Ω–µ –±—É—Ç–∏ –ø—É—Å—Ç–∏–º, –º–∞—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ñ–∞–π–ª–∏
- –º–∞—î –±—É—Ç–∏ –ø—Ä–∏—Å—É—Ç–Ω—ñ–π `composer.json` —Ñ–∞–π–ª, —è–∫–∏–π –≤–∫–∞–∑—É—î, —â–æ —Ü–µ php/Laravel –ø—Ä–æ–µ–∫—Ç
- –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ä—ñ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø—É –¥–æ –ø—Ä–æ–µ–∫—Ç—É –º–∞—î –±—É—Ç–∏ `Maintainer` - –ø–æ—á–∏–Ω–∞—é—á–∏ –∑ –Ω—å–æ–≥–æ —î –¥–æ—Å—Ç—É–ø –¥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –ø—Ä–æ–µ–∫—Ç—É

### –ö—Ä–æ–∫ 3: CI/CD details

–¢–µ–ø–µ—Ä –≤–∫–∞–∂—ñ—Ç—å –¥–µ—Ç–∞–ª—ñ –¥–ª—è —à–∞–±–ª–æ–Ω—É —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è GitLab.

- —à–∞–±–ª–æ–Ω —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ (–Ω–∞—Ä–∞–∑—ñ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –ª–∏—à–µ 3.0)
- –∞–∫—Ç–∏–≤–Ω—ñ –∫—Ä–æ–∫–∏ —Ç–∞ –æ–ø—Ü—ñ—ó –¥–ª—è –Ω–∏—Ö
  –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–º–∫–Ω—É—Ç–∏ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω—ñ –∫—Ä–æ–∫–∏ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏

–î–∞–ª—ñ –ø–æ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—é –≤–∫–∞–∑–∞–Ω–æ –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è. –î–ª—è –Ω—å–æ–≥–æ –≤–∂–µ –ø—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ —ñ–Ω—à—ñ –¥–∞–Ω—ñ –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∫—Ä–æ–∫—ñ–≤,
—Ç–æ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –π–æ–≥–æ –Ω–∞–∑–≤—É –Ω–∞ —ñ–Ω—à—É, –∑–∞–º—ñ—Å—Ç—é –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ.

–Ø–∫—â–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ, –º–æ–∂–Ω–∞ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –¥–æ–¥–∞—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —â–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä—É –æ–¥–Ω–æ—á–∞—Å–Ω–æ,
–∞–ª–µ —Ü–µ –¥–ª—è —Å–º—ñ–ª–∏–≤–∏—Ö, –±–æ –º–∏ –∑–Ω–∞—î–º–æ —è–∫ —Ü–µ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ (—ñ —á–∏ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏).

### –ö—Ä–æ–∫ 4: Server details

–¢—É—Ç –∑–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Å–µ—Ä–≤–µ—Ä, —è–∫ —à–ª—è—Ö –¥–æ –ø–∞–ø–∫–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Ç–∞ –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤.

–ù–∞—Ä–∞–∑—ñ —Ü—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ —Å–µ—Ä–≤–µ—Ä—ñ–≤ —ñ —Å—Ç–∞—Ç–∏—á–Ω–∞.

### –ö—Ä–æ–∫ 5: Parse access

–ù–∞ —Ü—å–æ–º—É –∫—Ä–æ—Ü—ñ –¥–ª—è –≤–∞—Å —î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∫–∞–∑–∞—Ç–∏ –¥–æ—Å—Ç—É–ø–∏ –¥–æ —Å–µ—Ä–≤–µ—Ä—É, –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —Ç–∞ –ø–æ—á—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, –∑–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ.
–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–∞–∑–∞—Ç–∏ –¥–æ—Å—Ç—É–ø–∏ —É —Ç–µ—Å—Ç–æ–≤–æ–º—É –ø–æ–ª—ñ —É —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ, –∑–∞ –∑—Ä–∞–∑–∫–æ–º.

–ü—ñ—Å–ª—è –≤–∫–∞–∑–∞–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ –∫–Ω–æ–ø–∫—É "Parse access data" —è–∫–∞ –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É—î –Ω–∞–¥–∞–Ω—ñ –¥–æ—Å—Ç—É–ø–∏.
–£ —Ä–∞–∑—ñ –ø–æ–º–∏–ª–∫–∏ –±—É–¥–µ –≤–∏–≤–µ–¥–µ–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É –±—É–¥–µ –≤–∏–≤–µ–¥–µ–Ω–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é —è–∫—É –≤–¥–∞–ª–æ—Å—è —Ä–æ–∑–ø—ñ–∑–Ω–∞—Ç–∏. –£–≤–∞–∂–Ω–æ –ø–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ —ó—Ö.

–¢–∞–∫–æ–∂ –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ, –¥–æ–¥–∞–Ω–æ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª–∏ –¥–ª—è —Ä–æ–∑–≥–æ—Ç–∞–Ω–Ω—è —Ç–∞ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤—Ä—É—á—É.

### –ö—Ä–æ–∫ 6: Confirmation

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—É –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –¥–∞–Ω—ñ, —è–∫—ñ –≤–¥–∞–ª–æ—Å—è –∑—ñ–±—Ä–∞—Ç–∏ –ø—Ä–æ –ø—Ä–æ–µ–∫—Ç.
–Ø–∫—â–æ –≤—Å–µ –∫–æ—Ä–µ–∫—Ç–Ω–æ —ñ –≤–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î—Ç–µ, —Ç–æ –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

–ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫—É, –≤–æ–Ω–∞ –ø–æ—á–Ω–µ –ø—ñ–¥–≥–æ—Ç–æ–≤–ª—é–≤–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç —Ç–∞ —Å–µ—Ä–≤–µ—Ä –∑–∞ –∑–≤–∏—á–Ω–∏–º —Å—Ü–µ–Ω–∞—Ä—ñ—î–º.
–í –∑–∞–≥–∞–ª—å–Ω–æ–º—É –≤—ñ–Ω —Ç–∞–∫–∏–π:
- –æ–±–º—ñ–Ω ssh –∫–ª—é—á–∞–º–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ssh –ø—ñ–¥–∫–ª—é—á–µ–Ω—å
- —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –¥–ª—è CI/CD –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
- –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π —Ç–∞ –∑–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–π–Ω—É

–ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ü—å–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –≤ —Ü–µ–Ω—Ç—Ä—ñ —Å–ø–æ–≤—ñ—â–µ–Ω—å –ø–∞–Ω–µ–ª—ñ.

# –†–æ–∑—Ä–æ–±–∫–∞

–í–∏–º–æ–≥–∏

- php ^8.2
- Laravel ^11
- node.js ^20
